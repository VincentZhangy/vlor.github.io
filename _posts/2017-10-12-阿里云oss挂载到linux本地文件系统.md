---
layout:     post
title:     	阿里云oss挂载到linux本地文件系统
subtitle:    "\"阿里云 oss 挂载到linux 本地文件系统\""
date:       2017-10-12
author:     Mr Chang
header-img: img/post-bg-ioses.jpg
catalog: true
tags:
    - 阿里云
    - oss
    - linux
    - 本地文件系统
    - mount

---

# 对象存储 OSS

阿里云对象存储服务 (OSS) 是一种高度可伸缩且安全可靠的云对象存储服务，让您可以存储、备份和归档大量数据。阿里云 OSS 是一种简单易用的服务，让您每秒能处理数百万请求，它还支持大数据、科学与财务分析以及媒体应用。

阿里云是一家全球性云对象存储提供商，让您可以随时随地以高度安全、经济实惠的方式存储、处理和访问数据。阿里云 OSS 为企业提供加密云存储，具有自动数据复制与故障转移功能及高达 99.9% 的服务可用性和数据可靠性，是容灾的理想选择。

# 对比

1. 阿里云OSS ： 好处就是，那是一套完整的体系，存储，数据库，CDN，服务器，阿里都可以给你全包。缺点，费用对于没有盈利的网站来说太高了，好像定位就是给那些高端客户使用的，而且CDN，OSS的流量是分开收费，带宽(2倍成本，呵呵)。

2. 又拍云：算是老牌静态存储服务商，自带有CDN。存储空间可以弹性增加(不知道可不可以弹性减少，我只是免费使用了一下)。费用计算公式(空间和流量)，请求次数是免费。可免费试用7天。开源的程序(DZ,PW,WP)都有插件，也可以直接使用FTP，对于技术上要求不是太高就可以使用。

3. 七牛：10GB永久免费存储空间,每月10GB下载流量,10万次Put请求,100万次Get请求，对于新用户来说，非常友好。价格方面，比阿里OSS稍微便宜一点。技术使用方面，开源API对于每种语言都有，但对开源程序，似乎没有官方的插件

总结：博客cdn使用的七牛，因为10G存储空间对于我放放图片能用好久，每月10G的流量也能用好久，毕竟只有图片那些走七牛的流量。

## 针对

针对日志统一管理，之前是因为阿里云ecs都在同一个区，所以可以直接买一块数据盘，挂载即可。
后来主机多了，各个区的都有，日志只是备份归档，如果每一个区都买数据盘的话，成本高，而且维护麻烦，
偶然看到了阿里的oss可以通过`OSSFS `挂载到linux的本地文件系统

## OSSFS

`OSSFS`能让您在`Linux系统中`把`OSS Bucket` `挂载到本地文件系统`中，您能够便捷地通过本地文件系统操作OSS上的对象，实现数据的共享

## 主要功能
ossfs 基于s3fs 构建，具有s3fs 的全部功能。主要功能包括：

* 支持POSIX 文件系统的大部分功能，包括文件读写，目录，链接操作，权限，uid/gid，以及扩展属性（extended attributes）
* 通过OSS 的multipart 功能上传大文件。
* MD5 校验保证数据完整性。

## 局限性

ossfs提供的功能和性能和本地文件系统相比，具有一些局限性。具体包括：

* 随机或者追加写文件会导致整个文件的重写。
* 元数据操作，例如list directory，性能较差，因为需要远程访问OSS服务器。
* 文件/文件夹的rename操作不是原子的。
* 多个客户端挂载同一个OSS bucket时，依赖用户自行协调各个客户端的行为。例如避免多个客户端写同一个文件等等。
* 不支持hard link。
* 不适合用在高并发读/写的场景，这样会让系统的load升高。


![](http://cdn-blog.jetbrains.org.cn/17-10-16/14712275.jpg)

## 安装及使用

安装教程请[点击链接](https://help.aliyun.com/document_detail/32196.html)


## 效果图
1. 挂载完成图（这边可以看到200多TB的存储）
	![](http://cdn-blog.jetbrains.org.cn/17-10-12/26787845.jpg)
	
2. 在相应目录创建文件夹与文件
	![](http://cdn-blog.jetbrains.org.cn/17-10-12/32927799.jpg)
	
3. 在阿里云控制台查看文件
	![](http://cdn-blog.jetbrains.org.cn/17-10-12/14403343.jpg)



### 鸣谢

**[阿里云帮助中心](https://help.aliyun.com/)**



